<!DOCTYPE html>
<html>

<head>
  <title>AI Hub</title>
</head>

<body>
  <a href="../">Back</a>
  <h1>Em Desenvolvimento...</h1>
  <button onclick="initGoogleAPI()">Autenticar com Google</button>

  <script src="https://apis.google.com/js/api.js"></script>
  <script>
    async function initGoogleAPI() {
      await gapi.load('client:auth2');

      await gapi.auth2.init({
        client_id: '878462955038-smkucjds07i34a7app4nik16r3gu16p3.apps.googleusercontent.com',
        scope: 'https://www.googleapis.com/auth/drive.file'
      });

      const authInstance = gapi.auth2.getAuthInstance();

      authInstance.signIn().then(googleUser => {
        const accessToken = googleUser.getAuthResponse().access_token;
        console.log("Token:", accessToken);

        // Exemplo: listar arquivos do app
        fetch("https://www.googleapis.com/drive/v3/files", {
          headers: { Authorization: "Bearer " + accessToken }
        })
          .then(res => res.json())
          .then(data => console.log("Arquivos:", data));
      });
    }
  </script>
</body>

</html>